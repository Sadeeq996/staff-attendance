<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>history</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">history</ion-title>
    </ion-toolbar>
  </ion-header>
</ion-content> -->



<!-- <ion-header>
  <ion-toolbar>
    <ion-title>Attendance History</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/dashboard">Back</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header> -->

<ion-header>
  <ion-toolbar>
    <ion-title>Attendance History</ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="backToDashboard()">Back</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list>
    <ion-item *ngFor="let r of records">
      <ion-label>
        <h3>{{ r.shift | uppercase }} â€” {{ r.status }}</h3>
        <p>{{ r.timestamp | date: 'medium' }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <div *ngIf="records.length === 0">
    <ion-note color="medium">No attendance records yet.</ion-note>
  </div>
</ion-content>





<ion-content class="ion-padding">
  <h2>{{ user?.fullName }}'s Attendance</h2>

  <div *ngIf="records.length; else noRecords">
    <ion-card *ngFor="let rec of records">
      <ion-card-header>
        <ion-card-title>{{ rec.shift | uppercase }} - {{ rec.status }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>Date: {{ rec.timestamp | date:'fullDate' }}</p>
        <p>Time: {{ rec.timestamp | date:'shortTime' }}</p>
        <p *ngIf="rec.status === 'OUT'">Duration: {{ rec.durationMinutes ?? 0 }} minutes</p>
      </ion-card-content>
    </ion-card>
  </div>

  <ng-template #noRecords>
    <ion-note color="medium">No attendance records found.</ion-note>
  </ng-template>
</ion-content>